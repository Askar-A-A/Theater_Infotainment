{% load cms_tags menu_tags sekizai_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% placeholder "greeting_page_title" or %}Welcome - Opera House{% endplaceholder %}</title>
    <link rel="stylesheet" href="{% static 'css/font-awesome/all.min.css' %}">
    {% render_block "css" %}
    <style>
        /* Reset and base styles - Optimized for 1280x400 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            max-width: 1280px;
            max-height: 400px;
            color: #fff;
            font-family: Arial, sans-serif;
            line-height: 1.6;
            overflow: hidden;
            background: rgb(59, 57, 57);
        }

        /* Content wrapper - Full viewport */
        .content-wrapper {
            width: 100vw;
            height: 100vh;
            max-width: 1280px;
            max-height: 400px;
            position: relative;
            background: rgb(59, 57, 57);
            overflow: hidden;
        }
        
        /* Greeting container - Optimized for 1280x400 */
        .greeting-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
        }
        
        /* Main content - horizontal layout for wider screen */
        .greeting-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 1200px;
            gap: 15px;
        }
        
        /* Left side - Logo and titles */
        .greeting-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        /* Right side - Welcome text */
        .greeting-right {
            flex: 1;
            padding-left: 5px;
        }
        
        /* Language selector - Larger for better proportion */
        .language-selector {
            position: absolute;
            top: 15px;
            left: 25px;
            z-index: 10;
        }
        
        .language-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .language-selected {
            color: #d4af37;
            background-color: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 18px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            min-width: 160px;
            border-radius: 8px;
            position: relative;
            z-index: 11;
            text-align: left;
        }
        
        .language-selected i {
            margin-left: 10px;
            float: right;
        }
        
        .language-options {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: none;
            border-radius: 0 0 8px 8px;
            width: 100%;
            display: none;
            z-index: 10;
        }
        
        .language-dropdown.open .language-options {
            display: block;
        }
        
        .language-dropdown.open .language-selected {
            border-radius: 8px 8px 0 0;
        }
        
        .language-option {
            color: #cccccc;
            text-decoration: none;
            font-size: 16px;
            padding: 10px 16px;
            display: block;
            border-bottom: 1px solid #333;
        }
        
        .language-option:last-child {
            border-bottom: none;
        }
        
        .language-option:hover, .language-option.active {
            color: #d4af37;
            background-color: #111;
        }
        
        /* Logo container - much larger */
        .opera-logo {
            width: 220px;
            height: 160px;
            margin: 0 auto 20px;
            position: relative;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 15px;
            text-align: center;
            display: block;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
            border: 3px solid rgba(212, 175, 55, 0.3);
        }
        
        .opera-logo img {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            display: block;
            margin: 0 auto;
            position: relative;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* Titles - much larger */
        .welcome-titles-container {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .welcome-title {
            font-family: Georgia, serif;
            font-size: 2.8rem;
            margin: 0 0 8px 0;
            line-height: 1.2;
            color: #d4af37;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-weight: 700;
        }
        
        .welcome-subtitle {
            font-family: Georgia, serif;
            font-size: 2.8rem;
            margin: 0;
            line-height: 1.2;
            color: #d4af37;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        /* Welcome text frame - larger */
        .welcome-text-frame {
            border: 3px solid rgba(255, 255, 255, 0.3);
            padding: 30px;
            border-radius: 15px;
            background-color: rgba(0, 0, 0, 0.8);
            width: 100%;
        }
        
        .welcome-text {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #ffffff;
            margin: 0;
            font-family: Arial, sans-serif;
            font-weight: 300;
            text-align: left;
        }
        
        /* Forward Navigation Icon - larger */
        .forward-nav {
            position: absolute;
            right: 20px;
            top: 15px;
            z-index: 100;
            text-decoration: none !important;
            color: #ffffff !important;
        }

        .forward-nav:visited,
        .forward-nav:link,
        .forward-nav:hover,
        .forward-nav:active {
            text-decoration: none !important;
            color: #ffffff !important;
        }

        .forward-icon {
            width: 70px;
            height: 70px;
            background: rgba(0,0,0,0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 42px;
            font-weight: bold;
            color: #ffffff;
            position: relative;
        }

        .forward-icon:hover {
            background: rgba(108, 117, 125, 0.73);
        }
    </style>
    {% render_block "js" %}
    <script>
        // Simplified initialization script - Android 6.0 compatible
        function initGreetingPage() {
            // Language dropdown functionality
            var languageDropdown = document.getElementById('languageDropdown');
            var selectedLanguageText = document.getElementById('selectedLanguage');
            
            // Set current language to English
            var activeLanguageName = "English";
            
            // Set the selected language text
            if (selectedLanguageText) {
                selectedLanguageText.textContent = activeLanguageName;
            }
            
            // Toggle dropdown on click
            if (languageDropdown) {
                var languageSelectedButton = languageDropdown.getElementsByClassName('language-selected')[0];
                if (languageSelectedButton) {
                    languageSelectedButton.onclick = function(e) {
                        if (e.stopPropagation) e.stopPropagation();
                        
                        // Toggle the open class
                        if (languageDropdown.className.indexOf('open') === -1) {
                            languageDropdown.className += ' open';
                        } else {
                            languageDropdown.className = languageDropdown.className.replace(' open', '');
                        }
                        return false;
                    };
                }
            }
            
            // Close dropdown when clicking outside
            document.onclick = function() {
                if (languageDropdown && languageDropdown.className.indexOf('open') !== -1) {
                    languageDropdown.className = languageDropdown.className.replace(' open', '');
                }
            };
        }
        
        // Cross-browser way to initialize the page
        if (window.addEventListener) {
            window.addEventListener('load', initGreetingPage);
        } else if (window.attachEvent) {
            window.attachEvent('onload', initGreetingPage);
        } else {
            window.onload = initGreetingPage;
        }
    </script>
</head>

<body>
    {% cms_toolbar %}
    <div class="content-wrapper">
        <div class="greeting-container">
            <!-- Language selector -->
            <div class="language-selector">
                <div class="language-dropdown" id="languageDropdown">
                    <div class="language-selected">
                        <span id="selectedLanguage">English</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="language-options">
                        <a href="/" class="language-option active" data-lang="English">English</a>
                        <a href="/greeting_ru/" class="language-option" data-lang="Русский">Русский</a>
                    </div>
                </div>
            </div>
            
            <!-- Main content - horizontal layout -->
            <div class="greeting-content">
                <!-- Left side - Logo and titles -->
                <div class="greeting-left">
                    <!-- Opera logo placeholder -->
                    <div class="opera-logo">
                        {% placeholder "opera_logo" %}
                    </div>
                    
                    <div class="welcome-titles-container">
                        <h1 class="welcome-title">
                            {% placeholder "greeting_title" or %}Welcome to{% endplaceholder %}
                        </h1>
                        
                        <h2 class="welcome-subtitle">
                            {% placeholder "theater_name" or %}Opera House{% endplaceholder %}
                        </h2>
                    </div>
                </div>
                
                <!-- Right side - Welcome text -->
                <div class="greeting-right">
                    <div class="welcome-text-frame">
                        <div class="welcome-text">
                            {% placeholder "greeting_text" or %}
                            <p>
                                Experience extraordinary performances in one of the world's most beautiful opera houses.
                                Our digital infotainment system provides information about today's performances, upcoming events,
                                and the rich history of our renowned institution.
                            </p>
                            {% endplaceholder %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Forward Navigation Icon -->
        <a href="/sponsors/" class="forward-nav">
            <div class="forward-icon">
                &#x27A1;
            </div>
        </a>
    </div>
</body>
</html>
