{% load cms_tags menu_tags sekizai_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% placeholder "sponsors_page_title" or %}Our Sponsors - Opera House{% endplaceholder %}</title>
    <link rel="stylesheet" href="{% static 'css/font-awesome/all.min.css' %}">
    {% render_block "css" %}
<style>
    /* Reset and base styles - Fixed for 1024x600 */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html, body {
        margin: 0;
        padding: 0;
        width: 1024px;
        height: 600px; 
        max-height: 100%;
        color: #fff;
        font-family: Arial, sans-serif;
        line-height: 1.6;
        overflow: hidden;
    }

    /* Content wrapper - Fixed for 1024x600 */
    .content-wrapper {
        width: 1024px;
        height: 600px;
        position: relative;
        background: rgb(59, 57, 57);
        overflow: hidden;
    }
    
    /* Main container - Fixed for 1024x600 */
    .sponsors-container {
        width: 100%;
        height: 100%;
        position: relative;
        padding: 10px;
        text-align: center;
        display: block;
    }
    
    /* Title area - Fixed for 1024x600 */
    .sponsors-title {
        font-family: Georgia, serif;
        font-size: 2.8rem;
        color: #d4af37;
        margin-bottom: 0.4rem;
        margin-top: 0.4rem;
    }
    
    /* Divider - Fixed for 1024x600 */
    .divider {
        width: 220px;
        height: 1.5px;
        background: #d4af37;
        margin: 0 auto 0.6rem;
        opacity: 0.7;
    }
    
    /* Sponsors info - Fixed for 1024x600 */
    .sponsors-intro {
        text-align: center;
        max-width: 80%;
        margin: 0 auto 0.8rem;
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.1rem;
        line-height: 1.4;
        font-family: Arial, sans-serif;
        font-weight: 300;
    }
    
    /* Sponsors row layout - Fixed for 1024x600 */
    .sponsors-row {
        width: 100%;
        margin-bottom: 12px;
        display: table;
        table-layout: fixed;
    }
    
    /* Sponsor category boxes - Fixed for 1024x600 */
    .sponsor-box {
        display: table-cell;
        width: 50%;
        max-width: 450px;
        background-color: rgba(0, 0, 0, 0.4);
        border: 1.5px solid rgba(212, 175, 55, 0.3);
        border-radius: 10px;
        padding: 12px;
        position: relative;
        vertical-align: top;
    }
    
    /* Add spacing between boxes - Fixed for 1024x600 */
    .sponsor-box:first-child {
        padding-right: 6px;
    }
    
    .sponsor-box:last-child {
        padding-left: 6px;
    }
    
    /* Category headers - Fixed for 1024x600 */
    .sponsor-box-title {
        position: relative;
        text-align: center;
        margin-bottom: 10px;
        padding-bottom: 5px;
        border-bottom: 1px solid rgba(212, 175, 55, 0.4);
    }
    
    .sponsor-box-title i {
        color: #d4af37;
        font-size: 1.5rem;
        margin-right: 0.6rem;
        vertical-align: middle;
    }
    
    .sponsor-box-title span {
        color: #d4af37;
        font-size: 1.5rem;
        font-weight: bold;
        vertical-align: middle;
    }
    
    /* Sponsors grid - Fixed for 1024x600 */
    .sponsors-grid {
        text-align: center;
        margin: 0 auto;
    }
    
    /* Sponsor items - Fixed for 1024x600 */
    .sponsor-item {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        width: 190px;
        height: 130px;
        transition: transform 0.3s;
        display: inline-block;
        margin: 5px;
        position: relative;
        vertical-align: middle;
    }
    
    .sponsor-item:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
    
    .sponsor-logo {
        display: block;
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        padding: 8px;
    }
    
    /* Enter button - hidden since we're using the arrow button */
    .enter-button {
        display: none;
    }
    
    /* Home button styles - Fixed for 1024x600 */
    .arrow-button {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
        background-color: rgba(0, 0, 0, 0.5);
        border: 2px solid #d4af37;
        border-radius: 50%;
        display: table-cell;
        text-align: center;
        vertical-align: middle;
        cursor: pointer;
        transition: background-color 0.3s;
        z-index: 10;
        text-decoration: none;
        font-size: 1.5rem;
        line-height: 50px;
        color: #d4af37;
    }

    .arrow-button:hover {
        background-color: rgba(212, 175, 55, 0.2);
        color: #fff;
    }

    .arrow-button i {
        display: none;
    }
</style>
{% render_block "js" %}
<script>
    /* Android 6.0 compatible event attachment with fallback */
    function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
            window.onload = func;
        } else {
            window.onload = function() {
                if (oldonload) {
                    oldonload();
                }
                func();
            }
        }
    }

    addLoadEvent(function() {
        // Simple initialization for 1024x600 layout
        // No dynamic height detection needed
    });
</script>
</head>

<body>
    {% cms_toolbar %}
    <div class="content-wrapper">
        <!-- Home button for navigation -->
        <a href="/home/" class="arrow-button">
            üè†
        </a>
        
        <div class="sponsors-container">
            <h1 class="sponsors-title">{% placeholder "sponsors_title" or %}Our Esteemed Sponsors{% endplaceholder %}</h1>
            
            <div class="divider"></div>
            
            <div class="sponsors-intro">
                {% placeholder "sponsors_intro" or %}
                    Our Theater proudly acknowledges the generous support of our sponsors.
                    Their commitment to the arts enables us to continue our tradition of excellence
                    and to share the magic of opera with audiences from around the world.
                {% endplaceholder %}
            </div>
            
            <!-- Side-by-side sponsor sections -->
            <div class="sponsors-row">
                <!-- Seasonal Sponsors Box -->
                {% if seasonal_sponsors %}
                <div class="sponsor-box">
                    <div class="sponsor-box-title">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Seasonal Sponsors</span>
                    </div>
                    <div class="sponsors-grid">
                        {% for sponsor in seasonal_sponsors %}
                            <div class="sponsor-item">
                                {% if sponsor.website %}
                                    <a href="{{ sponsor.website }}" target="_blank">
                                        <img src="{{ sponsor.image.url }}" alt="{{ sponsor.name }}" class="sponsor-logo">
                                    </a>
                                {% else %}
                                    <img src="{{ sponsor.image.url }}" alt="{{ sponsor.name }}" class="sponsor-logo">
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Event-Specific Sponsors Box -->
                {% if event_sponsors %}
                <div class="sponsor-box">
                    <div class="sponsor-box-title">
                        <i class="fas fa-theater-masks"></i>
                        <span>Sponsors for "{{ event.title }}"</span>
                    </div>
                    <div class="sponsors-grid">
                        {% for sponsor in event_sponsors %}
                            <div class="sponsor-item">
                                {% if sponsor.website %}
                                    <a href="{{ sponsor.website }}" target="_blank">
                                        <img src="{{ sponsor.image.url }}" alt="{{ sponsor.name }}" class="sponsor-logo">
                                    </a>
                                {% else %}
                                    <img src="{{ sponsor.image.url }}" alt="{{ sponsor.name }}" class="sponsor-logo">
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            
            <!-- Original enter button - hidden via CSS -->
            <a href="/home/" class="enter-button">
                {% placeholder "enter_button_text" or %}ENTER SITE{% endplaceholder %}
            </a>
        </div>
    </div>
</body>
</html>
