{% extends "base.html" %}
{% load cms_tags %}
{% load static %}

{% block title %}Today's Performance - TOSCA{% endblock %}

{% block wrapper_style %}
<style>
    /* Enable scrolling for today page */
    .content-wrapper {
        overflow: auto;
    }
</style>
{% endblock %}

{% block extra_css %}
<style>
    .theater-container {
        width: 1280px;
        height: 100%;
        position: relative;
        box-sizing: border-box;
        overflow: hidden;
    }

    /* Setup scroll snapping */
    .main-content {
        height: 100%;
        width: 100%;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        -webkit-overflow-scrolling: touch;
    }

    .content-section {
        height: 100vh;
        width: 100%;
        scroll-snap-align: start;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 80px 70px 40px 40px;
        box-sizing: border-box;
    }

    /* Content styling */
    .content-box {
        background: rgba(0,0,0,0.7);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 10px;
        padding: 40px;
        width: 90%;
        max-width: 1000px;
        display: flex;
        flex-direction: column;
        align-items: center;
        max-height: 80vh; /* Ensure the box doesn't exceed the viewport */
        overflow-y: auto; /* Allow scrolling within the box if needed */
    }

    .section-icon {
        font-size: 48px;
        color: #d4af37;
        margin-bottom: 20px;
    }

    .section-title {
        font-size: 32px;
        color: #d4af37;
        margin-bottom: 25px;
        font-family: 'Playfair Display', serif;
        text-align: center;
    }

    /* Production team styling */
    .production-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        width: 100%;
    }

    .team-section {
        margin-bottom: 20px;
    }

    .team-title {
        font-size: 22px;
        color: #d4af37;
        margin-bottom: 15px;
        text-align: center;
    }

    .team-list {
        list-style: none;
        padding: 0;
    }

    .team-member {
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding-bottom: 8px;
    }

    .role {
        color: #d4af37;
        font-weight: bold;
    }

    .name {
        color: #fff;
        text-align: right;
    }

    /* Cast styling */
    .cast-member {
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding-bottom: 8px;
    }

    .character {
        color: #d4af37;
        font-weight: bold;
    }

    .actor {
        color: #fff;
        text-align: right;
    }

    /* Summary styling */
    .summary-content {
        color: #fff;
        font-size: 16px;
        line-height: 1.6;
        text-align: left;
        margin-bottom: 15px;
    }

    .act-title {
        color: #d4af37;
        font-size: 20px;
        margin: 20px 0 10px;
        text-align: left;
        width: 100%;
    }
</style>
{% endblock %}

{% block content %}
<div class="theater-container">
    
    <div class="main-content">
        <!-- Leading Team & Cast Section -->
        <div class="content-section">
            <div class="content-box">
                <i class="fas fa-users section-icon"></i>
                <h2 class="section-title">Leading Team & Cast</h2>
                
                <div class="production-grid">
                    <!-- Production Team -->
                    <div class="team-section">
                        <h3 class="team-title">Production Team</h3>
                        <ul class="team-list">
                            <li class="team-member">
                                <span class="role">Conductor</span>
                                <span class="name">Riccardo Muti</span>
                            </li>
                            <li class="team-member">
                                <span class="role">Director</span>
                                <span class="name">Franco Zeffirelli</span>
                            </li>
                            <li class="team-member">
                                <span class="role">Set Design</span>
                                <span class="name">Maria Bj√∂rnson</span>
                            </li>
                            <li class="team-member">
                                <span class="role">Costume Design</span>
                                <span class="name">Anthony Powell</span>
                            </li>
                            <li class="team-member">
                                <span class="role">Lighting Design</span>
                                <span class="name">Jennifer Tipton</span>
                            </li>
                            <li class="team-member">
                                <span class="role">Chorus Master</span>
                                <span class="name">Martin Wright</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Cast -->
                    <div class="team-section">
                        <h3 class="team-title">Cast</h3>
                        <ul class="team-list">
                            <li class="cast-member">
                                <span class="character">Floria Tosca</span>
                                <span class="actor">Anna Netrebko</span>
                            </li>
                            <li class="cast-member">
                                <span class="character">Mario Cavaradossi</span>
                                <span class="actor">Jonas Kaufmann</span>
                            </li>
                            <li class="cast-member">
                                <span class="character">Baron Scarpia</span>
                                <span class="actor">Bryn Terfel</span>
                            </li>
                            <li class="cast-member">
                                <span class="character">Cesare Angelotti</span>
                                <span class="actor">Luca Pisaroni</span>
                            </li>
                            <li class="cast-member">
                                <span class="character">Sacristan</span>
                                <span class="actor">Alessandro Corbelli</span>
                            </li>
                            <li class="cast-member">
                                <span class="character">Spoletta</span>
                                <span class="actor">Aled Hall</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Plot Summary Section - Completely separate from first section -->
        <div class="content-section">
            <div class="content-box">
                <i class="fas fa-book-open section-icon"></i>
                <h2 class="section-title">Synopsis</h2>
                
                <p class="summary-content">
                    Set in Rome in June 1800, Tosca is a politically charged opera centered around three main characters: 
                    Floria Tosca, a celebrated singer; Mario Cavaradossi, a painter and revolutionary; and Baron Scarpia, 
                    the corrupt Chief of Police.
                </p>
                
                <h3 class="act-title">Act I</h3>
                <p class="summary-content">
                    Inside the church of Sant'Andrea della Valle, an escaped political prisoner named Angelotti seeks refuge. 
                    His friend, the painter Cavaradossi, arrives to work on his portrait of Mary Magdalene and promises to help him. 
                    Tosca, Cavaradossi's lover, arrives and becomes jealous when she suspects the woman in the painting is someone 
                    he knows. After she leaves, Cavaradossi and Angelotti hear cannon fire announcing an escaped prisoner, and they flee. 
                    Baron Scarpia arrives searching for Angelotti and finds evidence linking Cavaradossi to him. When Tosca returns, 
                    Scarpia plays on her jealousy to make her reveal Cavaradossi's whereabouts.
                </p>
                
                <h3 class="act-title">Act II</h3>
                <p class="summary-content">
                    In his apartment at the Palazzo Farnese, Scarpia anticipates capturing both Angelotti and Cavaradossi. Cavaradossi is 
                    brought in and tortured within Tosca's hearing. Unable to bear his suffering, she reveals Angelotti's hiding place. 
                    Scarpia sentences Cavaradossi to death but offers Tosca a deal: if she gives herself to him, he will spare Cavaradossi. 
                    Tosca reluctantly agrees. After writing a safe-conduct for the couple, Scarpia attempts to embrace Tosca, but she stabs 
                    him to death with a knife from his dinner table.
                </p>
                
                <h3 class="act-title">Act III</h3>
                <p class="summary-content">
                    At dawn on the battlements of Castel Sant'Angelo, Cavaradossi awaits execution. Tosca arrives to tell him she has 
                    secured his freedom and that the execution will be a sham, but he must fall as if dead. After the firing squad 
                    departs, Tosca discovers that Scarpia has betrayed her: the execution was real. As Scarpia's men rush in to arrest 
                    her for his murder, Tosca jumps from the battlements to her death.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
